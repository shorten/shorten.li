var Hashids=function(){"use strict";function t(t,e,s){var h,n,r,i,a,o,p;for(this.version="1.0.2",this.minAlphabetLength=16,this.sepDiv=3.5,this.guardDiv=12,this.errorAlphabetLength="error: alphabet must contain at least X unique characters",this.errorAlphabetSpace="error: alphabet cannot contain spaces",this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",this.seps="cfhistuCFHISTU",this.minHashLength=parseInt(e,10)>0?e:0,this.salt="string"==typeof t?t:"","string"==typeof s&&(this.alphabet=s),h="",n=0,i=this.alphabet.length;n!==i;n++)-1===h.indexOf(this.alphabet.charAt(n))&&(h+=this.alphabet.charAt(n));if(this.alphabet=h,this.alphabet.length<this.minAlphabetLength)throw this.errorAlphabetLength.replace("X",this.minAlphabetLength);if(-1!==this.alphabet.search(" "))throw this.errorAlphabetSpace;for(n=0,i=this.seps.length;n!==i;n++)r=this.alphabet.indexOf(this.seps.charAt(n)),-1===r?this.seps=this.seps.substr(0,n)+" "+this.seps.substr(n+1):this.alphabet=this.alphabet.substr(0,r)+" "+this.alphabet.substr(r+1);this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this.consistentShuffle(this.seps,this.salt),(!this.seps.length||this.alphabet.length/this.seps.length>this.sepDiv)&&(a=Math.ceil(this.alphabet.length/this.sepDiv),1===a&&a++,a>this.seps.length?(o=a-this.seps.length,this.seps+=this.alphabet.substr(0,o),this.alphabet=this.alphabet.substr(o)):this.seps=this.seps.substr(0,a)),this.alphabet=this.consistentShuffle(this.alphabet,this.salt),p=Math.ceil(this.alphabet.length/this.guardDiv),this.alphabet.length<3?(this.guards=this.seps.substr(0,p),this.seps=this.seps.substr(p)):(this.guards=this.alphabet.substr(0,p),this.alphabet=this.alphabet.substr(p))}return t.prototype.encode=function(){var t,e,s="",h=Array.prototype.slice.call(arguments);if(!h.length)return s;for(h[0]instanceof Array&&(h=h[0]),t=0,e=h.length;t!==e;t++)if("number"!=typeof h[t]||h[t]%1!==0||h[t]<0)return s;return this._encode(h)},t.prototype.decode=function(t){var e=[];return t.length&&"string"==typeof t?this._decode(t,this.alphabet):e},t.prototype.encodeHex=function(t){var e,s,h;if(t=t.toString(),!/^[0-9a-fA-F]+$/.test(t))return"";for(h=t.match(/[\w\W]{1,12}/g),e=0,s=h.length;e!==s;e++)h[e]=parseInt("1"+h[e],16);return this.encode.apply(this,h)},t.prototype.decodeHex=function(t){var e,s,h=[],n=this.decode(t);for(e=0,s=n.length;e!==s;e++)h+=n[e].toString(16).substr(1);return h},t.prototype._encode=function(t){var e,s,h,n,r,i,a,o,p,u,l,c,f=this.alphabet,g=t.length,b=0;for(h=0,n=t.length;h!==n;h++)b+=t[h]%(h+100);for(s=e=f.charAt(b%f.length),h=0,n=t.length;h!==n;h++)r=t[h],i=s+this.salt+f,f=this.consistentShuffle(f,i.substr(0,f.length)),a=this.hash(r,f),e+=a,g>h+1&&(r%=a.charCodeAt(0)+h,o=r%this.seps.length,e+=this.seps.charAt(o));for(e.length<this.minHashLength&&(p=(b+e[0].charCodeAt(0))%this.guards.length,u=this.guards[p],e=u+e,e.length<this.minHashLength&&(p=(b+e[2].charCodeAt(0))%this.guards.length,u=this.guards[p],e+=u)),l=parseInt(f.length/2,10);e.length<this.minHashLength;)f=this.consistentShuffle(f,f),e=f.substr(l)+e+f.substr(0,l),c=e.length-this.minHashLength,c>0&&(e=e.substr(c/2,this.minHashLength));return e},t.prototype._decode=function(t,e){var s,h,n,r,i=[],a=0,o=new RegExp("["+this.guards+"]","g"),p=t.replace(o," "),u=p.split(" ");if((3===u.length||2===u.length)&&(a=1),p=u[a],"undefined"!=typeof p[0]){for(s=p[0],p=p.substr(1),o=new RegExp("["+this.seps+"]","g"),p=p.replace(o," "),u=p.split(" "),a=0,h=u.length;a!==h;a++)n=u[a],r=s+this.salt+e,e=this.consistentShuffle(e,r.substr(0,e.length)),i.push(this.unhash(n,e));this._encode(i)!==t&&(i=[])}return i},t.prototype.consistentShuffle=function(t,e){var s,h,n,r,i,a;if(!e.length)return t;for(r=t.length-1,i=0,a=0;r>0;r--,i++)i%=e.length,a+=s=e.charAt(i).charCodeAt(0),h=(s+i+a)%r,n=t.charAt(h),t=t.substr(0,h)+t.charAt(r)+t.substr(h+1),t=t.substr(0,r)+n+t.substr(r+1);return t},t.prototype.hash=function(t,e){var s="",h=e.length;do s=e.charAt(t%h)+s,t=parseInt(t/h,10);while(t);return s},t.prototype.unhash=function(t,e){var s,h,n=0;for(h=0;h<t.length;h++)s=e.indexOf(t[h]),n+=s*Math.pow(e.length,t.length-h-1);return n},"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define(function(){return t}),t}();!function(t,e){"use strict";function s(t,e,n){if(n&&n>10)return e(new Error("Error retrieving your ip-number or ms since epoch. :("),null);if(!c)return setTimeout(function(){s(t,e,n++||0)},500);if(!f)return setTimeout(function(){s(t,e,n++||0)},500);if(!d.test(t))return e(new Error("Malformed url.."),null);var r=h();return u[0].value="https://shorten.github.io/r/?u="+t+"&_sid="+r,u[1].value=r,u.submit(),e(null,"https://s10.li/"+r)}function h(){var t=Math.abs(Date.now()-f);return t+=c,t+=Math.floor(11667*Math.random())+678,g.encode(t)}function n(t){f=parseInt(t.dateString)-Date.now()}function r(){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","//timeapi.herokuapp.com/utc/now.json?format=\\Q&callback=shortenGotTime"),e.appendChild(t)}function i(){b.open("GET","//api.ipify.org",!0),b.onload=function(){b.status>=200&&b.status<400&&(c=parseInt(b.responseText.split(".").join("")))},b.onerror=function(){},b.send()}function a(){l=document.createElement("iframe"),l.setAttribute("name","shorten-iframe"),l.setAttribute("src","//git.io"),l.style.cssText="display:none;",e.appendChild(l)}function o(){u=document.createElement("form"),u.setAttribute("id","shorten-form"),u.setAttribute("action","//git.io"),u.setAttribute("method","POST"),u.setAttribute("enctype","multipart/form-data"),u.setAttribute("target","shorten-iframe"),u.style.cssText="display:none;";var t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("name","url");var s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("name","code"),u.appendChild(t),u.appendChild(s),e.appendChild(u)}function p(){r(),o(),a(),i()}var u,l,c,f,g=new Hashids("shorten-github-io",0,"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),b=(new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest),d=new RegExp("https?:.+"),m={url:function(t,e){return s(t,e)}};p(),t.shorten=m,t.shortenGotTime=n}(window,document.getElementsByTagName("body")[0]);
